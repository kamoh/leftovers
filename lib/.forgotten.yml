---
ignore:
  - db/migrate

only:
  - '*.rb'
  - '*.rake'
  - '*.ru'
  - Rakefile
  - Gemfile
  - '*.haml'
  - '*.erb'
  - '*.builder'
  - '*.jbuilder'

alias_method_callers:
  - alias_method
  - alias
  - define_negated_matcher
  - alias_matcher

method_callers:
  - send
  - public_send
  - __send__
  - method
  # rails model callbacks
  - after_initialize
  - after_find
  - after_touch
  - before_validation
  - after_validation
  - before_save
  - around_save
  - after_save
  - before_create
  - around_create
  - after_create
  - before_update
  - around_update
  - after_update
  - before_destroy
  - around_destroy
  - after_destroy
  - after_commit
  - after_rollback
  # ruby routes
  - delete
  - get
  - patch
  - post
  - put
  # rails controller
  - layout

method_list_callers:
  # rails controller callbacks
  - after_action
  - append_after_action
  - append_around_action
  - append_before_action
  - around_action
  - before_action
  - prepend_after_action
  - prepend_around_action
  - prepend_before_action
  # rails model validations
  - validate
  # rails form helpers
  - options_from_collection_for_select
  - collection_select
  - collection_check_boxes
  - collection_radio_buttons
  - grouped_collection_select

method_definers:
  - scope

method_list_definers:
  - attr_reader
  - attr_writer

method_definers_with_predicate:
  # rails model attributes
  - attribute

symbol_key_callers:
  - if # rails callbacks
  - unless # rails callbacks
  - to # rails delegate
  - class_name # rails associations
  - action # rails routes
  - with # rails rescue_from with:

symbol_key_list_callers:
  - if # rails callbacks
  - unless # rails callbacks

allowed:
  - initialize # called by new
  - inspect # called by repl
  - respond_to_missing? # metaprogramming
  - method_missing # metaprogramming
  - respond_to? # metaprogramming
  - '*Helper' # rails included in the ViewContext
  - '*Controller' # routes!
  - ClassMethods # rails ActiveSupport::Concern
  - process_action # rails ActiveSupport::LogSubscriber
  - validate_each # rails validator
  - '*Validator'
